(window.webpackJsonp=window.webpackJsonp||[]).push([[26,6,7,9,10,11,13,19,21,22],{710:function(t,e,n){(function(n){var o,r,c;r=[],void 0===(c="function"==typeof(o=function(){"use strict";function b(a,b){return void 0===b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}function e(a,b,t){var e=new XMLHttpRequest;e.open("GET",a),e.responseType="blob",e.onload=function(){g(e.response,b,t)},e.onerror=function(){console.error("could not download file")},e.send()}function o(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(t){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,t){var i=c.URL||c.webkitURL,n=document.createElement("a");g=g||b.name||"download",n.download=g,n.rel="noopener","string"==typeof b?(n.href=b,n.origin===location.origin?r(n):o(n.href)?e(b,g,t):r(n,n.target="_blank")):(n.href=i.createObjectURL(b),setTimeout((function(){i.revokeObjectURL(n.href)}),4e4),setTimeout((function(){r(n)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,g,n){if(g=g||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(b(t,n),g);else if(o(t))e(t,g,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){r(i)}))}}:function(b,t,n,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return e(b,t,n);var o="application/octet-stream"===b.type,i=/constructor/i.test(c.HTMLElement)||c.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||o&&i||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var a=l.result;a=r?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},l.readAsDataURL(b)}else{var d=c.URL||c.webkitURL,f=d.createObjectURL(b);g?g.location=f:location.href=f,g=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});c.saveAs=g.saveAs=g,t.exports=g})?o.apply(e,r):o)||(t.exports=c)}).call(this,n(128))},711:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(101);var o={methods:{loadExternalLib:function(t){return new Promise((function(e,n){var script=document.createElement("script");script.onload=function(){e("".concat(t," está pronta"))},script.async=!0,script.src=t,document.head.appendChild(script)}))}}}},712:function(t,e,n){var content=n(719);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(157).default)("b2bd96b6",content,!1,{sourceMap:!1})},713:function(t,e,n){var content=n(725);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(157).default)("986e6e76",content,!1,{sourceMap:!1})},714:function(t,e,n){var content=n(727);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(157).default)("22a52bec",content,!1,{sourceMap:!1})},715:function(t,e,n){"use strict";n.r(e);var o=n(60),r=(n(144),n(710)),c=n.n(r),l={name:"CsvGenerator",mixins:[n(711).a],props:{csvDocDefinition:{required:!0,type:Array},fileName:{required:!0,type:String}},data:function(){return{isLoading:!1,message:"Salvar como .xlsx"}},methods:{createCsv:function(content,t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.isLoading=!0,e.message="Criando arquivo",n.next=4,e.loadExternalLib("https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.2/xlsx.full.min.js");case 4:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",o=window.XLSX.utils.json_to_sheet(content),r={Sheets:{data:o},SheetNames:["data"]},l=window.XLSX.write(r,{bookType:"xlsx",type:"array"}),d=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),c.a.saveAs(d,t),e.isLoading=!1,e.message="Salvar como .xlsx";case 12:case"end":return n.stop()}}),n)})))()}}},d=n(108),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{on:{click:function(e){return e.preventDefault(),t.createCsv(t.csvDocDefinition,t.fileName)}}},[n("span",{staticStyle:{"font-size":"0.8rem"}},[t._v("⊞")]),t._v("\n  "+t._s(t.message)+"\n")])}),[],!1,null,null,null);e.default=component.exports},716:function(t,e,n){"use strict";n.r(e);n(101);var o={name:"PdfGenerator",mixins:[n(711).a],props:{pdfDocDefinition:{type:Object,required:!0},fileName:{type:String,required:!0}},data:function(){return{isLoading:!1,message:"Salvar como .pdf"}},methods:{printPage:function(t){var e=this;this.isLoading=!0,this.message="Criando arquivo",this.loadExternalLib("https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.62/pdfmake.min.js").then((function(){e.loadExternalLib("https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.62/vfs_fonts.js").then((function(){window.pdfMake.createPdf(e.pdfDocDefinition).download(t)}))})).catch((function(t){return console.error(t)})).finally((function(){e.isLoading=!1,e.message="Salvar como .pdf"}))}}},r=n(108),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{on:{click:function(e){return e.preventDefault(),t.printPage(t.fileName)}}},[n("span",[t._v("⤓")]),t._v("\n  "+t._s(t.message)+"\n")])}),[],!1,null,null,null);e.default=component.exports},717:function(t,e,n){"use strict";n.r(e);var o=n(710),r=n.n(o),c={name:"JsonGenerator",props:{fileName:{required:!0,type:String},jsonDocDefinition:{required:!0,type:Array}},methods:{saveJson:function(t,content){var e=new Blob([JSON.stringify(content)],{type:"text/json; charset=utf-8"});r.a.saveAs(e,t)}}},l=n(108),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{on:{click:function(e){return e.preventDefault(),t.saveJson(t.fileName,t.jsonDocDefinition)}}},[n("span",{staticStyle:{"font-size":"0.8rem"}},[t._v("{ }")]),t._v("\n  Salvar como .json\n")])}),[],!1,null,null,null);e.default=component.exports},718:function(t,e,n){"use strict";n(712)},719:function(t,e,n){var o=n(156)(!1);o.push([t.i,".page-title[data-v-0ef5a3b0]{color:#fff;background-color:#008375;padding:1.75rem 1rem;display:grid}@media (max-width:800px){.page-title h1[data-v-0ef5a3b0]{font-size:1rem}.page-title h2[data-v-0ef5a3b0]{font-size:small}}@media print{.page-title[data-v-0ef5a3b0]{display:none}}.two-columns[data-v-0ef5a3b0]{grid-template-columns:repeat(2,1fr)}.two-columns .col-2[data-v-0ef5a3b0]{display:flex;text-align:right;justify-content:flex-end;flex-direction:column}@media (max-width:1200px){.two-columns[data-v-0ef5a3b0]{grid-template-columns:1fr}.two-columns .col-2[data-v-0ef5a3b0]{margin-top:1rem;text-align:left}}h1[data-v-0ef5a3b0]{font-size:1.5rem}h2[data-v-0ef5a3b0]{font-size:1.2rem;font-weight:400}.fonte a[data-v-0ef5a3b0]{color:#fff;text-decoration:none}.fonte a[data-v-0ef5a3b0]:hover{cursor:pointer}",""]),t.exports=o},721:function(t,e,n){"use strict";n.r(e);var o={name:"PageTitle",props:{twoColumns:{type:Boolean,default:!1}}},r=(n(718),n(108)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("section",{staticClass:"page-title",class:{"two-columns":t.twoColumns}},[t._t("default")],2)}),[],!1,null,"0ef5a3b0",null);e.default=component.exports},722:function(t,e,n){"use strict";n.r(e);var o={name:"ImageGenerator",props:{fileName:{required:!0,type:String}},data:function(){return{isLoading:!1,message:"Salvar como .png"}},methods:{createImage:function(t){this.isLoading=!0,this.message="Criando arquivo";var canvas=document.querySelector(".ol-unselectable"),e=document.getElementById("canvas-download"),n=canvas.toDataURL("image/png");e.download=t,e.href=n,e.click(),this.isLoading=!1,this.message="Salvar como .png"}}},r=n(108),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:function(e){return e.preventDefault(),t.createImage(t.fileName)}}},[n("span",{staticStyle:{"font-size":"0.8rem"}},[t._v("⊞")]),t._v("\n    "+t._s(t.message)+"\n  ")]),t._v(" "),n("a",{attrs:{id:"canvas-download"}})])}),[],!1,null,null,null);e.default=component.exports},723:function(t,e,n){"use strict";n.r(e);var o=n(710),r=n.n(o),c={name:"GeojsonGenerator",props:{fileName:{required:!0,type:String},geojsonDocDefinition:{type:void 0,required:!0}},methods:{createGeojson:function(t,content){var e=new Blob([JSON.stringify(content)],{type:"text/geojson; charset=utf-8"});r.a.saveAs(e,t)}}},l=n(108),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{on:{click:function(e){return e.preventDefault(),t.createGeojson(t.fileName,t.geojsonDocDefinition)}}},[n("span",{staticStyle:{"font-size":"0.8rem"}},[t._v("{ }")]),t._v("\n  Salvar como .geojson\n")])}),[],!1,null,null,null);e.default=component.exports},724:function(t,e,n){"use strict";n(713)},725:function(t,e,n){var o=n(156)(!1);o.push([t.i,".is-loading[data-v-8b0b4116]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:2;background-color:#008375;color:#fff;transition:all .4s ease-in .2s;flex-direction:column}.is-loading h2[data-v-8b0b4116]{font-size:1rem;font-weight:400;text-shadow:0 2px 4px rgba(0,0,0,.36);transition:all .4s ease-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.is-loading.faded[data-v-8b0b4116]{max-height:0}.is-loading.faded h2[data-v-8b0b4116]{opacity:0}.error[data-v-8b0b4116]{padding:2rem 3.25rem;background-color:#eb5757}.error h2[data-v-8b0b4116]{color:#fff;font-size:1.5rem}.error p[data-v-8b0b4116]{font-size:small;color:#fff}.error button[data-v-8b0b4116]{margin:2rem 0 0;padding:1.5rem 1.75rem 1.6rem;background-color:#005249;border:2px solid hsla(0,0%,100%,.2);border-radius:.25rem;font-family:inherit;font-size:1rem;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.36);cursor:pointer;transition:all .1s ease-out}.error button span[data-v-8b0b4116]{font-size:1.25rem;line-height:1.6rem}.error button[data-v-8b0b4116]:hover{background-color:#008375}",""]),t.exports=o},726:function(t,e,n){"use strict";n(714)},727:function(t,e,n){var o=n(156)(!1);o.push([t.i,".main--content .actions{display:grid;grid-template-columns:1fr 3fr 1fr;background-color:#005249;padding:2rem 3.25rem}@supports not (display:grid){.main--content .actions{display:flex;width:100%;justify-content:space-between}@media (max-width:800px){.main--content .actions{flex-direction:column}}}.main--content .actions ul{display:flex;justify-content:center}@media (max-width:800px){.main--content .actions ul{justify-content:space-between;display:block}.main--content .actions ul li{margin-left:0}}@media (max-width:800px){.main--content .actions{grid-template-columns:1fr;padding:1rem;text-align:left}.main--content .actions .go-back{margin:0}}.main--content .actions .action{margin:0 1rem}.main--content .actions .action button{margin:0 2rem 1rem 0;border:0;padding:1rem 1.25rem;background-color:hsla(0,0%,100%,.04);border-radius:.25rem;font-family:inherit;color:#fff;font-size:medium;cursor:pointer;transition:all .2s ease-out}.main--content .actions .action button:last-child{margin-right:0}.main--content .actions .action button:hover{background-color:#008375}.main--content .actions .action button span{display:inline-block;width:1.2rem;line-height:1.2rem;border-radius:1.2rem;background-color:hsla(0,0%,100%,.2);margin:0 .25rem 0 0;font-size:.8rem}@media (max-width:800px){.main--content .actions .action button{width:100%;width:-webkit-fill-available;width:-moz-available;width:stretch}}",""]),t.exports=o},728:function(t,e,n){"use strict";n.r(e);n(441);var o={name:"Preloader",components:{PreloaderAnimation:n(730).d},props:{isFetching:{type:Boolean,default:!1},error:{type:Boolean,default:!1},path:{type:String,default:"/"}},computed:{isIE:function(){return!!window.navigator.userAgent.match(/MSIE\s\d\S*;|Trident.*rv:\d*\.\d/)}},methods:{reloadApp:function(){var path=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";"/"===path?window.location.reload(!0):this.$router.push({path:path})}}},r=(n(724),n(108)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preloader"},[t.isFetching?n("div",{staticClass:"is-loading",class:{faded:!t.isFetching},attrs:{stroke:"white"}},[t.isIE?t._e():n("preloader-animation",{attrs:{"is-fetching":t.isFetching}}),t._v(" "),n("h2",[t._v("Carregando")])],1):t.error?n("div",{staticClass:"error"},[n("h2",[t._v("Erro")]),t._v(" "),n("p",[t._v(t._s(t.error))]),t._v(" "),n("button",{on:{click:function(e){return e.preventDefault(),t.reloadApp(t.path)}}},[n("span",[t._v("↻")]),t._v("\n      Tentar novamente\n    ")])]):t._e()])}),[],!1,null,"8b0b4116",null);e.default=component.exports},729:function(t,e,n){"use strict";n.r(e);n(440);var o=n(716),r=n(717),c=n(715),l=n(722),d=n(723),f={name:"FooterActions",components:{PdfGenerator:o.default,JsonGenerator:r.default,CsvGenerator:c.default,ImageGenerator:l.default,GeojsonGenerator:d.default},props:{pdfDocDefinition:{type:Object,default:function(){}},jsonDocDefinition:{type:Array,required:!0},geojsonDocDefinition:{type:void 0,required:!0},csvDocDefinition:{type:Array,required:!0},fileName:{type:String,required:!0},goBackPath:{type:String,default:"/"},goForward:{type:Object,default:function(){return{path:"",text:""}}},whichShow:{type:Array,required:!0}},methods:{go:function(path){this.$router.push({path:path})},isSwitch:function(t){return!!this.whichShow.find((function(e){return e===t}))}}},m=(n(726),n(108)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"actions"},[n("div",{staticClass:"action go-back"},[n("button",{on:{click:function(e){return e.preventDefault(),t.go(t.goBackPath)}}},[n("span",[t._v("⤶")]),t._v("\n      Quadro geral\n    ")])]),t._v(" "),n("ul",{staticClass:"action__list"},[t.isSwitch(1)?n("li",{staticClass:"action"},[n("csv-generator",{attrs:{"csv-doc-definition":t.csvDocDefinition,"file-name":t.fileName+".xlsx"}})],1):t._e(),t._v(" "),t.isSwitch(2)?n("li",{staticClass:"action"},[n("json-generator",{attrs:{"json-doc-definition":t.jsonDocDefinition,"file-name":t.fileName+".json"}})],1):t._e(),t._v(" "),t.isSwitch(3)?n("li",{staticClass:"action"},[n("pdf-generator",{attrs:{"pdf-doc-definition":t.pdfDocDefinition,"file-name":t.fileName+".pdf"}})],1):t._e(),t._v(" "),t.isSwitch(4)?n("li",{staticClass:"action"},[n("image-generator",{attrs:{"file-name":t.fileName+".png"}})],1):t._e(),t._v(" "),t.isSwitch(5)?n("li",{staticClass:"action"},[n("geojson-generator",{attrs:{"geojson-doc-definition":t.geojsonDocDefinition,"file-name":t.fileName+".geojson"}})],1):t._e()]),t._v(" "),""!==t.goForward.path?n("div",{staticClass:"action go-forward",staticStyle:{"text-align":"end"}},[n("button",{staticClass:"action__button",on:{click:function(e){return e.preventDefault(),t.go(t.goForward.path)}}},[n("span",[t._v("⤷")]),t._v("\n      "+t._s(t.goForward.text)+"\n    ")])]):t._e()])}),[],!1,null,null,null);e.default=component.exports},734:function(t,e,n){var content=n(748);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(157).default)("c36bd466",content,!1,{sourceMap:!1})},747:function(t,e,n){"use strict";n(734)},748:function(t,e,n){var o=n(156)(!1);o.push([t.i,".select-options__select[data-v-54655442]{list-style-type:none;margin:0 0 2rem;padding:0;box-shadow:0 4px 8px rgba(0,0,0,.24)}.select-options__select li[data-v-54655442]:first-child{display:none}.select-options__title[data-v-54655442]{color:#fff}.select-options button[data-v-54655442]{margin-top:8px;height:48px;width:100%;text-align:left;cursor:pointer;border:0;padding-left:.5rem;transition:background-color .35s ease-in-out}.select-options button.default[data-v-54655442]{background-color:hsla(0,0%,100%,.05);color:#fff}.select-options button.default[data-v-54655442]:hover{background-color:hsla(0,0%,100%,.15)}.select-options button.disabled[data-v-54655442]{cursor:not-allowed;background-color:#ccc}.select-options button.disabled[data-v-54655442]:hover{background-color:#ccc}.select-options button.forms[data-v-54655442]{background-color:rgba(0,0,0,.08);color:#000}.select-options button.forms[data-v-54655442]:hover{background-color:rgba(0,0,0,.1)}.select-options button[data-v-54655442]:focus{outline:none}.select-options__seta[data-v-54655442]{max-width:20px;transition:transform .3s ease-in-out}.select-options__seta--open[data-v-54655442]{transform:rotate(-180deg)}.select-options__toggler[data-v-54655442]{display:flex;align-items:center;justify-content:space-between;border-radius:.25rem;margin-bottom:10px}.fade-enter-active[data-v-54655442],.fade-leave-active[data-v-54655442]{transition:opacity .25s}.fade-enter[data-v-54655442],.fade-leave-to[data-v-54655442]{opacity:0}",""]),t.exports=o},758:function(t,e,n){var content=n(784);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(157).default)("e89d182e",content,!1,{sourceMap:!1})},770:function(t,e,n){"use strict";n.r(e);n(442);var o={name:"CustomSelect",props:{options:{type:Array,required:!0},title:{type:String,required:!0},type:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},selectedIndex:{type:Number,default:0}},data:function(){return{open:!1,selected:{}}},computed:{typeBackground:function(){return this.type?"forms":"default"},typeDisabled:function(){return this.disabled?"disabled":""}},created:function(){this.selected=this.options[this.selectedIndex].title},methods:{setSelectedValue:function(option){this.$refs.optionTitle.textContent=option.title,this.selected=option.title,this.open=!1,this.$emit("optionValue",option.value)}}},r=(n(747),n(108)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-options"},[n("div",{staticClass:"select-options__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),n("button",{staticClass:"select-options__toggler",class:[t.typeBackground,t.typeDisabled],attrs:{disabled:t.disabled},on:{click:function(e){e.preventDefault(),t.open=!t.open}}},[n("div",{ref:"optionTitle"},[t._v("\n      "+t._s(t.selected)+"\n    ")]),t._v(" "),n("seta",{staticClass:"select-options__seta",class:{"select-options__seta--open":t.open}})],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"select-options__select"},t._l(t.options,(function(option,e){return n("li",{key:e,staticClass:"select-options__options",attrs:{value:option.value}},[n("button",{on:{click:function(e){return e.preventDefault(),t.setSelectedValue(option)}}},[t._v("\n          "+t._s(option.title)+"\n        ")])])})),0)])],1)}),[],!1,null,"54655442",null);e.default=component.exports},783:function(t,e,n){"use strict";n(758)},784:function(t,e,n){var o=n(156)(!1);o.push([t.i,".mapa__select[data-v-1893e59c]{margin-top:1rem}.mapa__card td[data-v-1893e59c]{padding:.3rem 1.5rem .2rem}.mapa__card td[data-v-1893e59c]:first-child{text-transform:uppercase;font-weight:700;font-size:10pt}.mapa__card td:first-child.color[data-v-1893e59c]{color:#b5afaf}.mapa__card--close[data-v-1893e59c]{width:100%;display:flex;justify-content:flex-end;color:#fff;font-weight:700;cursor:pointer}.mapa__card--btnClose[data-v-1893e59c]{background-color:#eb5757;padding:.2rem;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.mapa__card--btnClose.removeRadius[data-v-1893e59c]{border-bottom-left-radius:0;border-bottom-right-radius:0}.mapa__card--header[data-v-1893e59c]{background-color:#008375;color:#fff}.mapa__card--grey[data-v-1893e59c]{background-color:#f5f5f5}.mapa .galeria .controles span.right[data-v-1893e59c]{right:10px!important}",""]),t.exports=o},797:function(t,e,n){"use strict";n.r(e);var o=n(60),r=(n(144),n(296),n(180),n(159),n(101),n(145),n(102),n(161),n(160),n(158),n(31)),c=n(206),l=n(58),d=n(71),f=n(3),m=n(44),h=n(8),v=n(12),_=n(118),y=n(332),w=0,x=1;function S(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}var C=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||S}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=w,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==n.duration?n.duration:200;var o=void 0!==n.className?n.className:"ol-zoomslider",r=document.createElement("button");r.setAttribute("type","button"),r.className=o+"-thumb "+l.e;var c=this.element;c.className=o+" "+l.e+" "+l.b,c.appendChild(r),this.dragger_=new y.a(c),Object(f.a)(this.dragger_,_.a.POINTERDOWN,this.handleDraggerStart_,this),Object(f.a)(this.dragger_,_.a.POINTERMOVE,this.handleDraggerDrag_,this),Object(f.a)(this.dragger_,_.a.POINTERUP,this.handleDraggerEnd_,this),Object(f.a)(c,h.a.CLICK,this.handleContainerClick_,this),Object(f.a)(r,h.a.CLICK,m.b)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.dragger_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.setMap=function(map){t.prototype.setMap.call(this,map),map&&map.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,n=t.offsetHeight,o=t.firstElementChild,r=getComputedStyle(o),c=o.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),l=o.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[c,l],e>n?(this.direction_=x,this.widthLimit_=e-c):(this.direction_=w,this.heightLimit_=n-l),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var view=this.getMap().getView(),e=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(e);view.animate({resolution:view.constrainResolution(n),duration:this.duration_,easing:d.b})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.originalEvent.target===this.element.firstElementChild&&(this.getMap().getView().setHint(r.a.INTERACTING,1),this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0,0===this.dragListenerKeys_.length)){var e=this.handleDraggerDrag_,n=this.handleDraggerEnd_;this.dragListenerKeys_.push(Object(f.a)(document,h.a.MOUSEMOVE,e,this),Object(f.a)(document,_.a.POINTERMOVE,e,this),Object(f.a)(document,h.a.MOUSEUP,n,this),Object(f.a)(document,_.a.POINTERUP,n,this))}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var element=this.element.firstElementChild,e=t.clientX-this.previousX_+parseFloat(element.style.left),n=t.clientY-this.previousY_+parseFloat(element.style.top),o=this.getRelativePosition_(e,n);this.currentResolution_=this.getResolutionForPosition_(o),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},e.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var view=this.getMap().getView();view.setHint(r.a.INTERACTING,-1),view.animate({resolution:view.constrainResolution(this.currentResolution_),duration:this.duration_,easing:d.b}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0,this.dragListenerKeys_.forEach(f.e),this.dragListenerKeys_.length=0}},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),n=this.element.firstElementChild;this.direction_==x?n.style.left=this.widthLimit_*e+"px":n.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var n;return n=this.direction_===x?t/this.widthLimit_:e/this.heightLimit_,Object(v.a)(n,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){return 1-this.getMap().getView().getValueForResolutionFunction()(t)},e}(c.a),j=n(33),E=n(22),k=n(10),F=n(57),D="units",O="degrees",R="imperial",L="nautical",M="metric",N="us",A=[1,2,5];function P(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}var T=function(t){function e(e){var n=e||{},o=void 0!==n.className?n.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:n.render||P,target:n.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=o+"-inner",this.element.className=o+" "+l.e,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==n.minWidth?n.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",Object(f.a)(this,Object(j.b)(D),this.handleUnitsChanged_,this),this.setUnits(n.units||M)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(D)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(D,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,o=this.getUnits(),r=o==O?F.b.DEGREES:F.b.METERS,c=Object(k.f)(n,t.resolution,e,r);n.getUnits()!=F.b.DEGREES&&n.getMetersPerUnit()&&r==F.b.METERS&&(c*=n.getMetersPerUnit());var l=this.minWidth_*c,d="";if(o==O){var f=k.a[F.b.DEGREES];n.getUnits()==F.b.DEGREES?l*=f:c/=f,l<f/60?(d="″",c*=3600):l<f?(d="′",c*=60):d="°"}else o==R?l<.9144?(d="in",c/=.0254):l<1609.344?(d="ft",c/=.3048):(d="mi",c/=1609.344):o==L?(c/=1852,d="nm"):o==M?l<.001?(d="μm",c*=1e6):l<1?(d="mm",c*=1e3):l<1e3?d="m":(d="km",c/=1e3):o==N?l<.9144?(d="in",c*=39.37):l<1609.344?(d="ft",c/=.30480061):(d="mi",c/=1609.3472):Object(E.a)(!1,33);for(var m,h,i=3*Math.floor(Math.log(this.minWidth_*c)/Math.log(10));;){if(m=A[(i%3+3)%3]*Math.pow(10,Math.floor(i/3)),h=Math.round(m/c),isNaN(h))return this.element.style.display="none",void(this.renderedVisible_=!1);if(h>=this.minWidth_)break;++i}var html=m+" "+d;this.renderedHTML_!=html&&(this.innerElement_.innerHTML=html,this.renderedHTML_=html),this.renderedWidth_!=h&&(this.innerElement_.style.width=h+"px",this.renderedWidth_=h),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(c.a),I=n(770),z=n(721),U=n(729),G=n(728),$=n(6),B=n(730);function V(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,r=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw r}}}}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var X={name:"MapaOUCFL",components:{CustomSelect:I.default,PageTitle:z.default,FooterActions:U.default,Preloader:G.default,Card:B.b,Galeria:B.c,Button:B.a},data:function(){return{zoom:13.5,center:[-46.685461,-23.585462],features:[],selectedFeatures:[],error:!1,fetching:!1,isLoaded:!1,mapLoaded:!1,filaFetching:!1,isFound:!0,typeMap:1,filaFound:{},displaySubHeader:!0}},computed:{mapId:function(){return this.$route.params.id},fileName:function(){return"".concat(this.$route.path.split("/")[1],"-").concat(this.$route.path.split("/")[2])}},watch:{selectedFeatures:function(t){t.length&&this.searhAnddisplayFila(t)}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$geo,o=t.mapId,t.fetching=!0,e.prev=2,e.next=5,n("mapas/".concat(o));case 5:r=e.sent,data=r.data,t.features=data.features,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.error=e.t0;case 13:return e.prev=13,t.fetching=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})))()},methods:{findPointOnSurface:$.A,onMapMounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.map.$map.getControls().extend([new T,new C]);case 2:t.isLoaded=!0;case 3:case"end":return e.stop()}}),e)})))()},searhAnddisplayFila:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,c,l,data,d,f,m,h,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.$cepacs,r=e.$arquivos,c=t[0].properties.id,e.filaFetching=!0,n.prev=3,n.next=6,e.$cepacs.get("fila/".concat(c));case 6:return l=n.sent,data=l.data,e.filaFound=data,n.next=11,o("/arquivofila?IdFilaCepac=".concat(t[0].properties.id));case 11:if(200!==(d=n.sent).status){n.next=36;break}t[0].properties.imagens=[],t[0].properties.isImage=!0,f=V(d.data),n.prev=16,f.s();case 18:if((m=f.n()).done){n.next=26;break}return h=m.value,n.next=22,r("/".concat(h.IdArquivo));case 22:v=n.sent,t[0].properties.imagens.push("https://servicos.spurbanismo.sp.gov.br/public/".concat(v.data.file.filename));case 24:n.next=18;break;case 26:n.next=31;break;case 28:n.prev=28,n.t0=n.catch(16),f.e(n.t0);case 31:return n.prev=31,f.f(),n.finish(31);case 34:n.next=37;break;case 36:t[0].properties.isImage=!1;case 37:e.isFound=!0,n.next=44;break;case 40:n.prev=40,n.t1=n.catch(3),e.filaFound="Certidão da Lei 11.732/1995",e.isFound=!1;case 44:return n.prev=44,e.filaFetching=!1,n.finish(44);case 47:case"end":return n.stop()}}),n,null,[[3,40,44,47],[16,28,31,34]])})))()},getValueOption:function(option){this.typeMap=option},changeDisplaySubHeader:function(t){this.displaySubHeader=t},getClick:function(){this.$router.push("/ouc-faria-lima/".concat(this.filaFound.Id))}}},W=(n(783),n(108)),component=Object(W.a)(X,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mapa main--content"},[n("preloader",{attrs:{"is-fetching":t.fetching,error:t.error}}),t._v(" "),t.displaySubHeader?n("page-title",{attrs:{"two-columns":!0}},[n("div",{staticClass:"col-1"},[n("h1",[t._v("Operação Urbana Consorciada Faria Lima")]),t._v(" "),n("h2",[t._v("Lei 13.769/04, alterada pelas leis 13.871/04, 15.519/11 e 16.242/15")])]),t._v(" "),n("div",{staticClass:"col-2"},[n("p",[t._v("Fontes:")]),t._v(" "),n("ul",[n("li",{staticClass:"fonte"},[n("a",{attrs:{href:"https://servicos.spurbanismo.sp.gov.br/geo/api/mapas/1"}},[t._v("Dados geográficos")])]),t._v(" "),n("li",{staticClass:"fonte"},[n("a",{attrs:{href:"https://servicos.spurbanismo.sp.gov.br/cepacs/api/fila"}},[t._v("Cadastro")])])])]),t._v(" "),n("custom-select",{staticClass:"mapa__select",attrs:{options:[{title:"Selecione uma base",value:0},{title:"Preto e branco",value:1},{title:"Open Street Map",value:2}],selectedIndex:1,title:"Base do mapa"},on:{optionValue:t.getValueOption}})],1):t._e(),t._v(" "),n("button-section-toggler",{attrs:{state:t.displaySubHeader},on:{ButtonSectionTogglerAction:t.changeDisplaySubHeader}}),t._v(" "),n("vl-map",{ref:"map",staticStyle:{height:"calc(100vh - 300px)"},attrs:{"load-tiles-while-animating":!0,"load-tiles-while-interacting":!0,rotation:0,"data-projection":"EPSG:4326"},on:{mounted:t.onMapMounted}},[n("vl-view",{attrs:{zoom:t.zoom,center:t.center,projection:"EPSG:4326"},on:{"update:zoom":function(e){t.zoom=e},"update:center":function(e){t.center=e}}}),t._v(" "),n("vl-layer-tile",[1===t.typeMap?n("vl-source-stamen",{attrs:{layer:"toner",projection:"EPSG:4326"}}):n("vl-source-osm")],1),t._v(" "),t.isLoaded?n("vl-layer-vector",{attrs:{id:"vector-layer"}},[n("vl-source-vector",{attrs:{features:t.features},on:{"update:features":function(e){t.features=e}}}),t._v(" "),n("vl-style-box",[n("vl-style-stroke",{attrs:{width:2,color:"rgba(49, 159, 211, 1)"}}),t._v(" "),n("vl-style-fill",{attrs:{color:"rgba(49, 159, 211, 0.1)"}})],1),t._v(" "),n("vl-interaction-select",{attrs:{features:t.selectedFeatures},on:{"update:features":function(e){t.selectedFeatures=e}},scopedSlots:t._u([{key:"default",fn:function(select){return t.filaFetching?void 0:t._l(select.features,(function(e){return n("vl-overlay",{key:e.id,staticClass:"mapa__feature-popup",attrs:{id:e.id,position:t.findPointOnSurface(e.geometry),"auto-pan":!0,"auto-pan-animation":{duration:300}}},[n("Card",{attrs:{"body-class":t.isFound?"bg-white":"px-2 pt-2 pb-2 bg-white","header-class":"bg-gray-200","footer-class":"px-0 pt-1 pb-0 bg-white"},scopedSlots:t._u([{key:"header",fn:function(){return[e.properties.isImage?n("Galeria",{attrs:{imagens:e.properties.imagens,backgroundCover:!1,width:"100%",height:"150px"},scopedSlots:t._u([{key:"header",fn:function(){return[n("a",{staticClass:"mapa__card--close",attrs:{title:"Fechar"},on:{click:function(n){t.selectedFeatures=t.selectedFeatures.filter((function(t){return t.id!==e.id}))}}},[n("div",{staticClass:"mapa__card--btnClose"},[t._v("Fechar")])])]},proxy:!0}],null,!0)}):n("div",[n("a",{staticClass:"mapa__card--close",attrs:{title:"Fechar"},on:{click:function(n){t.selectedFeatures=t.selectedFeatures.filter((function(t){return t.id!==e.id}))}}},[n("div",{staticClass:"mapa__card--btnClose removeRadius"},[t._v("\n                      Fechar\n                    ")])])])]},proxy:!0},{key:"body",fn:function(){return[t.isFound?n("table",[n("tbody",[n("tr",{staticClass:"mapa__card mapa__card--header"},[n("td",[t._v("\n                        status\n                      ")]),t._v(" "),n("td",[t._v("\n                        "+t._s(t.filaFound.Status?t.filaFound.Status.Nome:"Não informado.")+"\n                      ")])]),t._v(" "),n("tr",{staticClass:"mapa__card"},[n("td",{staticClass:"color"},[t._v("\n                        tipo do pedido\n                      ")]),t._v(" "),n("td",[t._v("\n                        "+t._s(t.filaFound.TipoPedido||"Não informado.")+"\n                      ")])]),t._v(" "),n("tr",{staticClass:"mapa__card mapa__card--grey"},[n("td",{staticClass:"color"},[t._v("\n                        interessado\n                      ")]),t._v(" "),n("td",[t._v("\n                        "+t._s(t.filaFound.Interessado||"Não informado.")+"\n                      ")])]),t._v(" "),n("tr",{staticClass:"mapa__card"},[n("td",{staticClass:"color"},[t._v("\n                        certidão\n                      ")]),t._v(" "),n("td",[t._v("\n                        "+t._s(t.filaFound.Certidao||"Não informado.")+"\n                      ")])]),t._v(" "),n("tr",{staticClass:"mapa__card mapa__card--grey"},[n("td",{staticClass:"color"},[t._v("\n                        proposta\n                      ")]),t._v(" "),n("td",[t._v("\n                        "+t._s(t.filaFound.CodigoProposta||"Não informado.")+"\n                      ")])]),t._v(" "),n("tr",{staticClass:"mapa__card"},[n("td",{staticClass:"color"},[t._v("\n                        endereço\n                      ")]),t._v(" "),n("td",[t._v("\n                        "+t._s(t.filaFound.Endereco||"Não informado.")+"\n                      ")])]),t._v(" "),n("tr",{staticClass:"mapa__card mapa__card--grey"},[n("td",{staticClass:"color"},[t._v("\n                        setor\n                      ")]),t._v(" "),n("td",[t._v("\n                        "+t._s(t.filaFound.SetorObj?t.filaFound.SetorObj.OperacaoUrbana.Nome:"Não informado")+"\n                      ")])]),t._v(" "),n("tr",{staticClass:"mapa__card"},[n("td",{staticClass:"color"},[t._v("\n                        subsetor\n                      ")]),t._v(" "),n("td",[t._v("\n                        "+t._s(t.filaFound.SubSetor||"Não informado.")+"\n                      ")])]),t._v(" "),n("tr",{staticClass:"mapa__card mapa__card--grey"},[n("td",{staticClass:"color"},[t._v("\n                        zona\n                      ")]),t._v(" "),n("td",[t._v("\n                        "+t._s(t.filaFound.Zona||"Não informado.")+"\n                      ")])])])]):n("p",[t._v("\n                  "+t._s(t.filaFound)+"\n                ")])]},proxy:!0},t.isFound?{key:"footer",fn:function(){return[n("Button",{attrs:{"action-text":"ACESSAR PÁGINA DE CADASTRO","style-button":"w-full text-sm bg-spurb-dark hover:bg-spurb"},on:{buttonClick:t.getClick}})]},proxy:!0}:null],null,!0)})],1)}))}}],null,!0)})],1):t._e()],1),t._v(" "),n("footer-actions",{attrs:{"pdf-doc-definition":{},"csv-doc-definition":[],"json-doc-definition":[],"geojson-doc-definition":t.features,"file-name":t.fileName,"go-back-path":"/ouc-faria-lima","go-forward":{path:"/ouc-faria-lima/resumo",text:"Resumo"},"which-show":[4,5]}})],1)}),[],!1,null,"1893e59c",null);e.default=component.exports}}]);